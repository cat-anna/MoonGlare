/*
  * Generated by cppsrc.sh
  * On 2017-02-04 20:56:37,48
  * by Kalessin
*/
/*--END OF HEADER BLOCK--*/

#pragma once

#include "nfAssets.h"
#include "AssetLoaderInterface.h"

namespace MoonGlare::x2c::Settings {
    struct AssetSettings_t;
}

namespace MoonGlare::Asset {

class FileSystem;

class AssetManager final : public AssetLoader {
public:
    AssetManager();
    ~AssetManager();

    bool Initialize(const x2c::Settings::AssetSettings_t *Configuration);
    bool Finalize();

    TextureLoader* GetTextureLoader() const override;
    bool ReadFile(const std::string &URI, StarVFS::ByteTable &out) override;
private:
    std::unique_ptr<FileSystem> m_FileSystem;
    std::unique_ptr<Texture::Loader> m_TextureLoader;

    const x2c::Settings::AssetSettings_t *m_Configuration = nullptr;
};

} //namespace MoonGlare::Asset 

