/*
  * Generated by cppsrc.sh
  * On 2015-03-11 19:24:10,77
  * by Paweu
*/
/*--END OF HEADER BLOCK--*/
#include <pch.h>
#include "Pipeline.h"

namespace modc {
namespace pipeline {

void RemoveUnnecessaryStage::PerformRemoval(WorkConfiguration &data) {
	if (Verbosity::PrintStep())
		cout << data.StageCounter() << "Looking for files which should be ignored\n";
	unsigned counter = 0;

	for (auto &fi : data.FileList) {
		fi.Ignore = !(fi.Needed && fi.Correct);
		if (fi.Ignore)
			++counter;
	}

	if (Verbosity::PrintInfo())
		cout << data.StageCounter() << "" << counter << " files marked to be ignored\n";
}

} //namespace pipeline 
} //namespace modc 
