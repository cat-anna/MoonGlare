/*
  * Generated by cppsrc.sh
  * On 
  * by Paweu
*/
/*--END OF HEADER BLOCK--*/

#pragma once
#ifndef EditorSettings_H
#define EditorSettings_H

#include <ToolBase/iSettingsUser.h>
#include <EditorSettings.x2c.h>

namespace MoonGlare {
namespace Editor {

class EditorSettings : public iSettings {
	Q_OBJECT;
public:
	EditorSettings(std::string basePath);
	~EditorSettings();

	static EditorSettings& getInstance();
	static x2c::Settings::EditorState_t& getState() { return getInstance().m_State; }
	static x2c::Settings::EditorConfiguration_t& getConfiguration() { return getInstance().m_Configuration; }

protected:
	x2c::Settings::EditorState_t m_State;
	x2c::Settings::EditorConfiguration_t m_Configuration;
	virtual void SaveStaticSettings(pugi::xml_node node) override;
	virtual void LoadStaticSettings(pugi::xml_node node) override;
private:
	static EditorSettings *_Instance;
    std::string basePath;
};

using iSettingsUser = EditorSettings::iSettingsUser;
inline EditorSettings& GetSettings() { return EditorSettings::getInstance(); }

} //namespace Editor
} //namespace MoonGlare

#endif
