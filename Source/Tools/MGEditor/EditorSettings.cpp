/*
  * Generated by cppsrc.sh
  * On 
  * by Paweu
*/
/*--END OF HEADER BLOCK--*/

#include PCH_HEADER
#include "EditorSettings.h"
#include <TypeEditor/Structure.h>
#include <TypeEditor/x2cStructure.h>

namespace MoonGlare {
namespace Editor {

MoonGlare::ModuleClassRgister::Register<EditorSettings> EditorSettingsReg("EditorSettings");

EditorSettings::EditorSettings(SharedModuleManager modmgr): iModule(modmgr) {
	TypeEditor::Structure::RegisterX2CStructure<x2c::Settings::EditorConfiguration_t>();
	TypeEditor::Structure::RegisterX2CStructure<x2c::Settings::EditorState_t>();
}

EditorSettings::~EditorSettings() {
}

//-----------------------------------------
std::string EditorSettings::GetName() const {
    return "Settings";
}

void EditorSettings::SaveSettings(pugi::xml_node node) {
	m_State.Write(node, "State");
	m_Configuration.Write(node, "Configuration");
}

void EditorSettings::LoadSettings(pugi::xml_node node) {
	m_State.ResetToDefault();
	m_State.Read(node, "State");
	m_Configuration.ResetToDefault();
	m_Configuration.Read(node, "Configuration");
}

} //namespace Editor
} //namespace MoonGlare

