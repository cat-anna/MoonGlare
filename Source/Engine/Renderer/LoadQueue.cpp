/*
	Generated by cppsrc.sh
	On 2015-02-10 21:12:44,46
	by Paweu
*/

#include <pch.h>
#include <nfMoonGlare.h>
#include "nGraphic.h"

namespace Graphic {

LoadQueue::LoadQueue() {
}

LoadQueue::~LoadQueue() {
}

void LoadQueue::DispatchSingleRequest() {
	if (m_RequestList.empty()) return;
	try {
		Request r;
		{
			LOCK_MUTEX(m_mutex);
			r.swap(m_RequestList.front());
			m_RequestList.pop_front();
		}
		r.Handler();
	}
	catch (...) {
		AddLog(Error, "An error has occur during execution of LoadQueue request handler!");
	}
}

void LoadQueue::DispatchInTime(float miliseconds) {
	if (Count() <= 2)
		return DispatchAllRequests();

	LOG_NOT_IMPLEMENTED();
	//float currentms = 0.0f;
}
	
} //namespace Graphic 
