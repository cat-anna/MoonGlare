/*
  * Generated by cppsrc.sh
  * On 2016-11-20 10:55:04,64
  * by Kalessin
*/
/*--END OF HEADER BLOCK--*/

#include "pch.h"
#include <nfMoonGlare.h>

#include "Hooks.h"

#include "Scripts/ScriptEngine.h"

namespace MoonGlare::Core {

Hooks::Hooks() {
}

Hooks::~Hooks() {
}

bool Hooks::Initialize(World *world) {
	ASSERT(world);

	m_World = world;

	return true;
}

bool Hooks::Finalize() {
	return true;
}

bool Hooks::Subscribe(EventDispatcher & ed) {

	ed.Register<Scene::SceneStateChangeEvent>(this);

	return true;
}

void Hooks::HandleEvent(const Scene::SceneStateChangeEvent & ev) {
	auto se = m_World->GetScriptEngine();
	se->RunChildFunction("Hooks", "Dispatch", "SceneStateChangeEvent", &ev);
}

} //namespace MoonGlare::Core 

