/*
  * Generated by cppsrc.sh
  * On 2015-03-01  6:54:52,16
  * by Paweu
*/
/*--END OF HEADER BLOCK--*/

#pragma once
#ifndef Panel_H
#define Panel_H

namespace MoonGlare {
namespace GUI {
namespace Widgets {

class Panel : public iWidget {
	SPACERTTI_DECLARE_STATIC_CLASS(Panel, iWidget)
	DECLARE_EXCACT_SCRIPT_CLASS_GETTER();
public:
 	Panel(iWidget *Parent);
 	virtual ~Panel();

	virtual void Draw(Graphic::MatrixStack &dev) override; 
	virtual void Process(const Core::MoveConfig &conf) override;

	virtual void RecalculateMetrics() override;

	virtual iWidget* GetWidgetAt(const Point &p) const override;
	
	virtual void Lock() override;
	virtual void Unlock() override;
	iWidget* FindWidget(const string& name) const override; 
	void AddWidget(Widget &w);
	void AddWidget(iWidget *w) { Widget wp(w); AddWidget(wp); }
	/** Remove all non-metawidgets from panel. */
	void CleanWidgets();

	virtual void ScriptSet(Utils::Scripts::TableDispatcher &table) override;
	virtual void SetStyle(SharedStyleSet style) override;

	static void RegisterScriptApi(ApiInitializer &api);
protected:
	WidgetContainer m_Children;
};

} //namespace Widgets 
} //namespace GUI 
} //namespace MoonGlare 

#endif
