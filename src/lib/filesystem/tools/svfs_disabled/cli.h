/*
  * Generated by cppsrc.sh
  * On 
  * by Paweu
*/
/*--END OF HEADER BLOCK--*/
#pragma once
#ifndef cli_H
#define cli_H

#include "svfs.h"
#include "luainterface.h"
#include "arguments.h"

class CLI {
public:
	CLI(SharedLua Lua);
	CLI(const CLI&) = delete;

	CLI& operator=(const CLI&) = delete;

	bool Enter(SVFS& svfs, InitEnv &env);
private:
	SharedLua m_Lua;
	bool m_CanContinue;
	bool m_BashMode;

	bool InstallApi();
	void Loop();

	//for lua
	void Exit(int ec);

	int loadline(lua_State *L);
	int pushline(lua_State *L, int firstline);
	int multiline(lua_State *L);
};

#endif
